<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>My Projects</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
    <style>
        body {
            margin-top: 0;
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }

        #search-input {
            width: 100% !important;
        }

        h2 {
            margin: 0;
        }

        .project-container {
            display: flex;
            flex-direction: column;
            gap: 24px;
            margin: 20px auto;
            max-width: 1200px;
            padding: 0 20px;
        }

        .project {
            background-color: #fff;
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: 1px solid #e9ecef;
        }

        .project:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
        }

        .project img {
            width: 50%;
            aspect-ratio: 16/9;
            object-fit: cover;
            background: #f8f9fa;
        }

        .project-content {
            padding: 24px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            flex: 1;
        }

        .project-content p {
            margin: 8px 0;
            line-height: 1.6;
            color: #666;
        }

        .project-content a {
            color: #007bff;
            text-decoration: none;
            font-weight: 500;
            margin-right: 15px;
            transition: color 0.2s ease;
        }

        .project-content a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .tag-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
            color: white;
            margin-top: 12px;
            width: fit-content;
            text-transform: capitalize;
        }

        .tag-personal {
            background-color: #28a745;
        }

        .tag-work {
            background-color: #007bff;
        }

        .tag-academic {
            background-color: #fd7e14;
        }

        .tag-other {
            background-color: #6f42c1;
        }

        #filters-container {
            position: sticky;
            top: 0;
            left: 0;
            width: 100%;
            background: #ffffff;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
            border-bottom: 1px solid #e9ecef;
        }

        #filters-controls {
            padding-top: 40px !important;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            background: #ffffff;
        }

        #filters {
            display: flex;
            flex-direction: column;
            gap: 16px;
            overflow: hidden;
            background: #ffffff;
            transition: max-height 0.3s ease, padding 0.3s ease, opacity 0.3s ease;
        }

        #filters.expanded {
            max-height: 800px;
            padding: 0 24px 20px 24px;
            opacity: 1;
        }

        #filters.collapsed {
            max-height: 0;
            padding: 0 24px;
            opacity: 0;
        }

        #search-input {
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 15px;
            width: 100%;
            background: #f8f9fa;
            transition: all 0.2s ease;
        }

        #search-input:focus {
            outline: none;
            border-color: #007bff;
            background: #ffffff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        #search-input::placeholder {
            color: #6c757d;
        }

        #filters input[type="date"] {
            padding: 8px 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 14px;
            width: 160px;
            background: #f8f9fa;
            color: #333;
            margin-right: 10px;
            transition: all 0.2s ease;
        }

        #filters input[type="date"]:focus {
            outline: none;
            border-color: #007bff;
            background: #ffffff;
        }

        #filters strong {
            margin-right: 12px;
            font-weight: 600;
            color: #495057;
            font-size: 14px;
            min-width: 80px;
            display: inline-block;
        }

        .filter-section {
            display: flex;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 4px;
        }

        .filter-section > div {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            flex: 1;
        }

        .filter-pill {
            display: inline-flex;
            align-items: center;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 13px;
            font-weight: 500;
            color: #495057;
            transition: all 0.2s ease;
            cursor: pointer;
            user-select: none;
        }

        .filter-pill:hover {
            background: #e9ecef;
            border-color: #dee2e6;
            transform: translateY(-1px);
        }

        .filter-pill.active {
            background: #007bff;
            border-color: #0056b3;
            color: #ffffff;
            box-shadow: 0 2px 8px rgba(0, 123, 255, 0.2);
        }

        .filter-pill .remove-btn {
            margin-left: 6px;
            font-size: 14px;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.2s;
        }

        .filter-pill .remove-btn:hover {
            opacity: 1;
        }

        #active-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            min-height: 20px;
        }

        #active-filters:empty {
            display: none;
        }

        #active-filters .filter-pill {
            background: #007bff;
            border-color: #0056b3;
            color: #ffffff;
        }

        #toggle-button {
            background: transparent;
            border: none;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.3s ease;
            color: #6c757d;
            padding: 8px;
        }

        #toggle-button:hover {
            color: #495057;
            background: #f8f9fa;
            border-radius: 4px;
        }

        #toggle-button.collapsed {
            transform: rotate(180deg);
        }

        #reset-button {
            padding: 8px 16px;
            background: #dc3545;
            color: #ffffff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            margin-right: 16px;
            transition: all 0.2s ease;
        }

        #reset-button:hover {
            background: #c82333;
            transform: translateY(-1px);
        }

        #count-label-text {
            margin: 0;
            font-weight: 500;
            color: #495057;
            font-size: 15px;
        }

        #count-label {
            color: #007bff;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .project {
                flex-direction: column;
            }
            #filters-controls {
                padding: 15px 20px;
            }

            #filters {
                padding: 0 20px 20px 20px;
            }

            #search-input {
                font-size: 16px;
            }

            .filter-section {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }

            .filter-pill {
                font-size: 13px;
                padding: 6px 12px;
            }

            #reset-button {
                padding: 10px 18px;
                font-size: 13px;
                margin-right: 12px;
            }

            #toggle-button {
                width: 38px;
                height: 38px;
                font-size: 18px;
            }

            #count-label-text {
                font-size: 14px;
            }

            #filters input[type="date"] {
                width: 140px;
                margin-bottom: 8px;
            }
        }

        @media (max-width: 480px) {
            .project-container {
                padding: 0 12px;
                margin-top: 20px;
            }

            #filters-controls {
                padding: 12px 16px;
            }

            #filters {
                padding: 0 16px 16px 16px;
            }

            .filter-pill {
                font-size: 12px;
                padding: 5px 10px;
                margin: 3px;
            }

            #reset-button {
                padding: 8px 14px;
                font-size: 12px;
                margin-right: 10px;
            }

            #toggle-button {
                width: 34px;
                height: 34px;
                font-size: 16px;
            }
        }

        #projects-container {
            margin-top: 20px;
        }

        .project img {
            object-fit: contain;
            display: block;
        }
    </style>
</head>

<body>
    <div id="filters-container">
        <div id="filters-controls">
            <div style="display: flex; align-items: center;">
                <button id="reset-button" onclick="resetFilters()">Reset Filters</button>
                <p id="count-label-text">
                    <span id="count-label">0</span> projects found
                </p>
            </div>
            <button id="toggle-button" onclick="toggleDropDown()">&#9650;</button>
        </div>
        <div id="filters" class="expanded">
            <input type="text" id="search-input" placeholder="ðŸ” Search projects...">
            <div id="active-filters"></div>
            <div class="filter-section" id="technologies-filter">
                <strong>Technologies:</strong>
                <div id="tech-pills"></div>
            </div>
            <div class="filter-section" id="tags-filter">
                <strong>Tags:</strong>
                <div id="tag-pills"></div>
            </div>
            <div class="filter-section" id="type-filter">
                <strong>Type:</strong>
                <div id="type-pills"></div>
            </div>
            <div class="filter-section" id="date-filter">
                <strong>Date Range:</strong>
                From: <input type="date" id="date-from">
                To: <input type="date" id="date-to">
            </div>
        </div>
    </div>

    <div id="projects-container" class="project-container"></div>

    <script>
        let projects = [
            {
                name: "Portfolio Website",
                platforms: ["Web"],
                type: "Website",
                demoUrl: "https://davidkozdra.com",
                githubUrl: "https://github.com/DavidKozdra/davidkozdra.com",
                technologies: ["HTML", "CSS", "JavaScript"],
                people: ["David Kozdra"],
                date: "2020-04-22",
                image: "/images/brand/favicon.ico",
                tag: "personal",
                description: "A personal portfolio website showcasing my background, skills, and featured work."
            },
            {
                name: "Real Time Stock Portal",
                platforms: ["Web"],
                type: "Website",
                demoUrl: "https://redchip.com/stocks",
                githubUrl: "",
                technologies: ["HTML", "CSS", "JavaScript", "PHP", "Python"],
                people: ["David Kozdra"],
                date: "2024-03-15",
                image: "/images/projects/stock_portal.png",
                tag: "work",
                description: "A real-time stock tracking and analysis portal developed for RedChip. With a 15 min deleyed Python data aggregation backend. Including tabled views of SEC filing data"
            },
            {
                name: "RedChat AI SEC summarizer",
                platforms: ["Web", "Android", "IOS"],
                type: "Website",
                demoUrl: "https://red.chat",
                githubUrl: "",
                technologies: ["HTML", "CSS", "React", "Python", "AWS"],
                people: ["David Kozdra"],
                date: "2024-01-05",
                image: "/images/projects/red_chat.png",
                tag: "work",
                description: "AI-powered chatbot to summarize SEC filings for quick insights. Loading storing and preparing over 100000 documents for every company on the NYSE and NASDAQ"
            },
            {
                name: "Florida Polycon Site",
                platforms: ["Web"],
                type: "Website",
                demoUrl: "https://flpolycon.org",
                githubUrl: "",
                technologies: ["HTML", "CSS", "WordPress"],
                people: ["David Kozdra"],
                date: "2022-03-15",
                image: "/images/company-logos/flpcon.webp",
                tag: "academic",
                description: "Conference website for Florida Polytechnic Universityâ€™s annual event."
            },
            {
                name: "Promo Mobile App",
                platforms: ["iOS", "Android"],
                type: "Mobile App",
                demoUrl: "https://www.the-promo-app.com/CutiLabs%20Free%20Shipping/678af16ab410781f92a5ea83",
                githubUrl: "",
                technologies: ["CSS", "React Native", "React", "MongoDB", "Node.js"],
                people: [""],
                date: "2022-08-20",
                image: "/images/company-logos/PromoSite.png",
                tag: "work",
                description: "Cross-platform mobile app for discovering exclusive local business promotions."
            },
            {
                name: "Holes Game",
                platforms: ["Web"],
                type: "Game",
                demoUrl: "https://muddygame.net/game/",
                githubUrl: "https://github.com/DavidKozdra/Holes_Client",
                technologies: ["HTML", "CSS", "JavaScript", "p5.js", "Socket.io", "AWS"],
                people: ["David Kozdra", "Team"],
                date: "2022-05-20",
                image: "/images/projects/holes.png",
                tag: "personal",
                description: "A multiplayer sandbox browser game developed with vanilla JavaScript."
            },
            {
                name: "GitPulse",
                platforms: ["Web"],
                type: "Tool",
                demoUrl: "https://chromewebstore.google.com/detail/gitpulse/fiamhceclfnbckgpnmpkhldgbdhiamhg",
                githubUrl: "https://github.com/DavidKozdra/GitPulse",
                technologies: ["HTML", "CSS", "JavaScript"],
                people: ["David Kozdra"],
                date: "2023-06-15",
                image: "/images/projects/gitpulse.png",
                tag: "personal",
                description: "GitHub activity visualization tool for tracking repository metrics. Available on Chrome Web Store."
            },
            {
                name: "Prompto",
                platforms: ["Web"],
                type: "Tool",
                demoUrl: "",
                githubUrl: "",
                technologies: ["HTML", "CSS", "JavaScript"],
                people: ["David Kozdra"],
                date: "2023-09-10",
                image: "/images/projects/prompto.png",
                tag: "personal",
                description: "Prompt management and optimization tool for AI workflows."
            },
            {
                name: "Cloudy Meadows",
                platforms: ["Web"],
                type: "Game",
                demoUrl: "https://virtualnerd1.itch.io/cloudy-meadows",
                githubUrl: "https://github.com/DavidKozdra/Cloudy-Meadows-Deluxe",
                technologies: ["HTML", "CSS", "JavaScript", "p5.js"],
                people: ["David Kozdra"],
                date: "2026-01-01",
                image: "/images/projects/cloudy_logo.png",
                tag: "personal",
                description: "A farming RPG browser game developed with vanilla JavaScript and p5.js."
            }
            
        ];

        let filters = {
            searchText: '',
            selectedTechnologies: [],
            selectedTags: [],
            selectedTypes: [],
            dateFrom: null,
            dateTo: null
        };

        let allTechnologies = [...new Set(projects.flatMap(p => p.technologies))];
        let allTags = [...new Set(projects.map(p => p.tag))];
        let allTypes = [...new Set(projects.map(p => p.type))];

        const projectsContainer = document.getElementById('projects-container');
        const searchInput = document.getElementById('search-input');
        const techPillsDiv = document.getElementById('tech-pills');
        const tagPillsDiv = document.getElementById('tag-pills');
        const typePillsDiv = document.getElementById('type-pills');
        const dateFromInput = document.getElementById('date-from');
        const dateToInput = document.getElementById('date-to');
        const countLabel = document.getElementById("count-label");
        const toggleButton = document.getElementById("toggle-button");
        const filtersDiv = document.getElementById("filters");
        const activeFiltersDiv = document.getElementById('active-filters');

        function createPill(items, selectedArray, type) {
            const container = type === 'tech' ? techPillsDiv : 
                             type === 'tag' ? tagPillsDiv : typePillsDiv;
            
            items.forEach(item => {
                const pill = document.createElement('div');
                pill.className = 'filter-pill';
                pill.textContent = item;
                pill.dataset.value = item;
                pill.dataset.type = type;
                
                if (selectedArray.includes(item)) {
                    pill.classList.add('active');
                }
                
                pill.addEventListener('click', () => togglePill(item, type));
                container.appendChild(pill);
            });
        }

        function togglePill(value, type) {
            const arrayKey = type === 'tech' ? 'selectedTechnologies' :
                           type === 'tag' ? 'selectedTags' : 'selectedTypes';
            const array = filters[arrayKey];
            
            if (array.includes(value)) {
                filters[arrayKey] = array.filter(item => item !== value);
            } else {
                filters[arrayKey] = [...array, value];
            }
            
            updatePillStates();
            updateActiveFilters();
            applyFilters();
        }

        function updatePillStates() {
            document.querySelectorAll('.filter-pill').forEach(pill => {
                const type = pill.dataset.type;
                const value = pill.dataset.value;
                const arrayKey = type === 'tech' ? 'selectedTechnologies' :
                               type === 'tag' ? 'selectedTags' : 'selectedTypes';
                
                if (filters[arrayKey].includes(value)) {
                    pill.classList.add('active');
                } else {
                    pill.classList.remove('active');
                }
            });
        }

        function updateActiveFilters() {
            activeFiltersDiv.innerHTML = '';
            
            const allActive = [
                ...filters.selectedTechnologies.map(v => ({ value: v, type: 'tech' })),
                ...filters.selectedTags.map(v => ({ value: v, type: 'tag' })),
                ...filters.selectedTypes.map(v => ({ value: v, type: 'type' }))
            ];
            
            allActive.forEach(filter => {
                const pill = document.createElement('div');
                pill.className = 'filter-pill active';
                pill.innerHTML = `
                    ${filter.value}
                    <span class="remove-btn" onclick="removeFilter('${filter.value}', '${filter.type}')">Ã—</span>
                `;
                activeFiltersDiv.appendChild(pill);
            });
        }

        function removeFilter(value, type) {
            event.stopPropagation();
            const arrayKey = type === 'tech' ? 'selectedTechnologies' :
                           type === 'tag' ? 'selectedTags' : 'selectedTypes';
            filters[arrayKey] = filters[arrayKey].filter(item => item !== value);
            updatePillStates();
            updateActiveFilters();
            applyFilters();
        }

        createPill(allTechnologies, filters.selectedTechnologies, 'tech');
        createPill(allTags, filters.selectedTags, 'tag');
        createPill(allTypes, filters.selectedTypes, 'type');

        searchInput.addEventListener('input', () => {
            filters.searchText = searchInput.value;
            applyFilters();
        });

        dateFromInput.addEventListener('change', () => {
            filters.dateFrom = dateFromInput.value ? new Date(dateFromInput.value) : null;
            applyFilters();
        });

        dateToInput.addEventListener('change', () => {
            filters.dateTo = dateToInput.value ? new Date(dateToInput.value) : null;
            applyFilters();
        });

        function applyFilters() {
            let filtered = projects.filter(project => {
                if (filters.searchText) {
                    const regex = new RegExp(filters.searchText, 'i');
                    const searchable = [
                        project.name,
                        project.type,
                        project.platforms.join(' '),
                        project.technologies.join(' '),
                        project.people.join(' ')
                    ].join(' ');
                    if (!regex.test(searchable)) return false;
                }
                if (filters.selectedTechnologies.length && !filters.selectedTechnologies.every(t => project.technologies.includes(t))) return false;
                if (filters.selectedTags.length && !filters.selectedTags.includes(project.tag)) return false;
                if (filters.selectedTypes.length && !filters.selectedTypes.includes(project.type)) return false;
                const projDate = new Date(project.date);
                if (filters.dateFrom && projDate < filters.dateFrom) return false;
                if (filters.dateTo && projDate > filters.dateTo) return false;
                return true;
            });
            countLabel.textContent = filtered.length;
            renderProjects(filtered);
        }

        function renderProjects(projectsToRender) {
            projectsContainer.innerHTML = "";
            if (!projectsToRender.length) {
                projectsContainer.textContent = "No projects match the filters.";
                return;
            }
            projectsToRender.forEach(project => {
                const projectDiv = document.createElement('div');
                projectDiv.classList.add('project');

                const image = document.createElement('img');
                image.src = project.image;
                projectDiv.appendChild(image);

                const content = document.createElement('div');
                content.classList.add('project-content');

                const name = document.createElement('h2');
                name.textContent = project.name;
                content.appendChild(name);

                const typeDate = document.createElement('p');
                typeDate.textContent = `${project.type} â€¢ ${new Date(project.date).toLocaleDateString()}`;
                content.appendChild(typeDate);

                const platforms = document.createElement('p');
                platforms.textContent = `Platforms: ${project.platforms.join(', ')}`;
                content.appendChild(platforms);

                const techs = document.createElement('p');
                techs.textContent = `Technologies: ${project.technologies.join(', ')}`;
                content.appendChild(techs);

                if (project.description) {
                    const desc = document.createElement('p');
                    desc.textContent = project.description;
                    content.appendChild(desc);
                }

                const links = document.createElement('p');
                if (project.demoUrl) {
                    const demo = document.createElement('a');
                    demo.href = project.demoUrl;
                    demo.textContent = 'Demo';
                    demo.target = '_blank';
                    links.appendChild(demo);
                }
                if (project.githubUrl) {
                    if (project.demoUrl) links.appendChild(document.createTextNode(' | '));
                    const github = document.createElement('a');
                    github.href = project.githubUrl;
                    github.textContent = 'GitHub';
                    github.target = '_blank';
                    links.appendChild(github);
                }
                content.appendChild(links);

                const tag = document.createElement('span');
                tag.className = `tag-badge tag-${project.tag}`;
                tag.textContent = project.tag.charAt(0).toUpperCase() + project.tag.slice(1);
                content.appendChild(tag);

                projectDiv.appendChild(content);
                projectsContainer.appendChild(projectDiv);
            });
        }

        function resetFilters() {
            filters = {
                searchText: '',
                selectedTechnologies: [],
                selectedTags: [],
                selectedTypes: [],
                dateFrom: null,
                dateTo: null
            };
            searchInput.value = '';
            dateFromInput.value = '';
            dateToInput.value = '';
            updatePillStates();
            updateActiveFilters();
            applyFilters();
        }

        let isFiltersOpen = true;

        function toggleDropDown() {
            const isOpen = isFiltersOpen;
            const filtersDiv = document.getElementById('filters');
            const toggleButton = document.getElementById('toggle-button');

            if (isOpen) {
                filtersDiv.classList.remove('expanded');
                filtersDiv.classList.add('collapsed');
                toggleButton.innerHTML = '&#9660;';
                toggleButton.classList.add('collapsed');
            } else {
                filtersDiv.classList.remove('collapsed');
                filtersDiv.classList.add('expanded');
                toggleButton.innerHTML = '&#9650;';
                toggleButton.classList.remove('collapsed');
            }
            isFiltersOpen = !isOpen;
        }


        applyFilters();
    </script>
</body>

</html>